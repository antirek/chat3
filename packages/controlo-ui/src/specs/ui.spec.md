## Модальные окна

### Общее

1. модальные окна должны иметь заголовок

2. в заголовке модального окна - крестик для закрытия модального окна

3. также модальное окно должно закрываться при нажатии Esc

4. при клике на затемненный фон модальное окно должно закрываться

5. модальное окно должно быть центрировано на экране

6. при открытии модального окна фокус должен устанавливаться на первый интерактивный элемент внутри окна

7. при закрытии модального окна фокус должен возвращаться на элемент, который открыл модальное окно

### Модальные окна типа Инфо

1. под заголовком окна выводить url, по которому получили данные для отображения JSON

2. JSON должен быть отформатирован с отступами для читаемости

3. JSON должен быть в моноширинном шрифте

4. при большом объеме JSON должен быть скролл внутри области отображения

5. должна быть кнопка для копирования JSON в буфер обмена

### Модальные окна типа Мета

1. должны отображать текущие мета-теги в виде пар ключ-значение

2. должна быть возможность добавлять новые мета-теги (кнопка "Добавить тег")

3. должна быть возможность редактировать существующие мета-теги

4. должна быть возможность удалять мета-теги

5. при сохранении изменений должна быть индикация процесса сохранения

6. при ошибке сохранения должно отображаться сообщение об ошибке

### Модальные окна типа Добавить/Изменить

1. должны содержать форму с соответствующими полями

2. обязательные поля должны быть помечены (например, звездочкой или текстом "обязательно")

3. при валидации должны отображаться сообщения об ошибках под полями

4. кнопка сохранения должна быть неактивна, если форма невалидна

5. при успешном сохранении модальное окно должно закрываться автоматически

6. при ошибке сохранения модальное окно должно оставаться открытым с сообщением об ошибке


## Колонка

1. Понятие для построение интерфейса

2. содержит Заголовок, Фильтр, Пагинацию, Таблицу

### Заголовок

1. содержит название колонки

2. может также содержать кнопки Добавить, URL

3. кнопка Добавить располагается рядом с названием, а кнопка URL располагается справа

4. кнопка Добавить должна быть визуально выделена (например, зеленым цветом или иконкой плюса)

5. кнопка URL должна иметь иконку ссылки или текстовую метку "URL"

6. при наведении на кнопки должны отображаться подсказки (tooltips)

### Фильтр

1. форма выбора варианта для фильтрации ниже расположенной таблицы

2. Содержит 

- а. выпадающее меню с заранее подготовленными вариантами фильтра, 

- б. само поле для фильтра, 

- в. кнопку Применить

3. в самом поле фильтра крестик справа сбрасывает значение фильтра

4. выпадающее меню должно содержать примеры фильтров, специфичные для каждого типа сущности

5. примеры фильтров должны включать варианты с мета-тегами (meta.*)

6. при выборе примера из выпадающего меню значение должно автоматически подставляться в поле фильтра

7. кнопка Применить должна быть визуально выделена (например, синим цветом)

8. при применении фильтра должна быть индикация загрузки данных

9. активный фильтр должен визуально отличаться (например, подсветкой поля или иконкой)

10. должна быть возможность быстро очистить фильтр (кнопка "Очистить" или иконка крестика)

### Пагинация

1. элемент пагинации таблицы, должен учитывать применения фильтра. Элемент Пагинация должен быть расположен сразу после Фильтра.

2. должна отображать текущую страницу, общее количество страниц и общее количество записей

3. должна содержать кнопки навигации: первая страница, предыдущая, следующая, последняя

4. кнопки навигации должны быть неактивны (disabled), когда соответствующие действия невозможны

5. должна содержать поле для ввода номера страницы с валидацией

6. должна содержать селект для выбора количества элементов на странице (10, 20, 50, 100)

7. при изменении количества элементов на странице должна сбрасываться на первую страницу

8. информация о пагинации должна отображаться в формате "X-Y из Z" (например, "1-10 из 100")

9. пагинация должна использовать компактный дизайн с мелким шрифтом

10. кнопки навигации должны содержать только иконки без текста

11. при применении фильтра пагинация должна сбрасываться на первую страницу

### Таблица

1. отображает результат запроса к API, у некоторых колонок таблицы могут быть элементы сортировки

2. таблица может содержать в колонке таблицы кнопки. если есть в клонке таблицы есть кнопки - их располагать справа

3. колонки с сортировкой должны иметь визуальный индикатор направления сортировки (стрелка вверх/вниз)

4. при наведении на заголовок колонки с сортировкой должен изменяться курсор (pointer)

5. строки таблицы должны иметь hover-эффект для лучшей визуальной обратной связи

6. при большом количестве данных таблица должна иметь вертикальный скролл

7. заголовки таблицы должны быть зафиксированы при прокрутке (sticky header)

8. колонка "Действия" должна быть всегда справа и иметь фиксированную или минимальную ширину

9. при отсутствии данных должна отображаться соответствующая надпись (например, "Данные не найдены")

10. при загрузке данных должна отображаться индикация загрузки (спиннер или скелетон)

11. длинные текстовые значения должны обрезаться с многоточием или иметь tooltip с полным текстом

### Дополнительные элементы

#### Кнопка URL 

1. вызывает отображение модального окна, в котором отображается URL текущего запроса к API с учетом фильтра, сортировки и пагинации. Модальное окно соответствует общим правилам модальных окон. Есть кнопка Скопировать, при нажатии копирует URL в буфер памяти.

2. URL должен отображаться в моноширинном шрифте

3. URL должен быть разбит на части для лучшей читаемости (базовый URL и параметры)

4. должна быть возможность скопировать только базовый URL или только параметры

5. после копирования должно появляться уведомление об успешном копировании

6. в модальном окне должен отображаться список всех примененных параметров (фильтр, сортировка, пагинация) в читаемом виде


# Интерфейсы api-test

## Тенанты

- состоит из одной колонки для работы c tenant-api /api/tenants (см требования к Колонка)

- колонка должна соответствовать описанию Колонки

- в таблице отображаем колонки таблицы: tenantId, дату создания, Действия

- в колонке таблицы Действия отображаем кнопки Инфо, Мета, Удалить

- кнопка Инфо - открываем модальное окно для просмотра JSON 

- кнопка Мета - открываем модальное окно для работы с мета тегами Тенантов

- кнопка Удалить - удаляем тенант (предварительный confirm)

- в заголовке колонки должна быть кнопка Добавить для создания нового тенанта

- при создании тенанта в модальном окне должны быть поля: tenantId (опционально), мета-теги (опционально)

- примеры фильтров должны включать варианты фильтрации по tenantId и мета-тегам

- колонка tenantId должна быть сортируемой

- колонка дата создания должна быть сортируемой

- формат отображения даты должен быть читаемым (например, "01.12.2024 12:30:45")


## Пользователи

- состоит из одной колонки для работы c tenant-api /api/users (см требования к Колонка)

- колонка должна соответствовать описанию Колонки

- в таблице отображаем колонки таблицы: userId, тип, последняя активность, дату создания, Действия

- в колонке таблицы Действия отображаем кнопки Инфо, Мета, Изменить Тип, Удалить

- кнопка Инфо - открываем модальное окно для просмотра JSON 

- кнопка Мета - открываем модальное окно для работы с мета тегами Пользователей

- кнопка Изменить тип - открывает модальное окно для изменения типа пользователя

- кнопка Удалить - удаляем пользователя (предварительный confirm)

- в заголовке колонки должна быть кнопка Добавить для создания нового пользователя

- при создании пользователя в модальном окне должны быть поля: userId (обязательно), тип (опционально), мета-теги (опционально)

- примеры фильтров должны включать варианты фильтрации по userId, типу и мета-тегам

- колонки userId, тип, последняя активность, дата создания должны быть сортируемыми

- формат отображения даты последней активности должен быть читаемым или относительным (например, "2 часа назад")

- при отсутствии последней активности должно отображаться "Никогда" или "-"


## Сообщения

- состоит из одной колонки для работы c tenant-api /api/messages (см требования к Колонка)

- колонка должна соответствовать описанию Колонки

- в Заголовке Колонки не должно быть кнопки Добавить

- в таблице должны отображаться основные поля сообщения (messageId, senderId, type, content, createdAt и т.д.)

- примеры фильтров должны включать варианты фильтрации по senderId, type, content, мета-тегам

- колонки должны быть сортируемыми по соответствующим полям

- длинный контент сообщения должен обрезаться с многоточнем и иметь возможность просмотра полного текста

- в колонке Действия должны быть кнопки: Инфо (просмотр JSON), Реакции, События, Мета


## Диалоги + Сообщения

- состоит из двух колонок: Диалоги для работы c tenant-api /api/dialogs, Сообщения для работы c tenant-api /api/dialogs/{dialogId}/messages

- колонка должна соответствовать описанию Колонки

- при выборе диалога в первой колонке во второй колонке должны загружаться сообщения этого диалога

- в колонке Диалоги должна быть кнопка Добавить для создания нового диалога

- в колонке Сообщения должна быть кнопка Добавить для создания нового сообщения в выбранном диалоге

- при создании сообщения диалог должен быть предзаполнен (нельзя выбрать другой диалог)

- примеры фильтров для диалогов должны включать варианты фильтрации по dialogId, мета-тегам, участникам

- примеры фильтров для сообщений должны включать варианты фильтрации по senderId, type, content, мета-тегам


## Пользователи + Диалоги + Сообщения

1. состоит из трех отображаемых колонок: 

а. Первая - Пользователи для работы с tenant-api /api/users/, 

б. Вторая - Диалоги для работы c tenant-api /api/users/{userId}/dialogs, 

в. Третья (в зависимости от выбора пользователя):

- Сообщения для работы c tenant-api /api/users/{userId}/dialogs/{dialogId}/messages

- Участники для работы c tenant-api /api/users/{userId}/dialogs/{dialogId}/members


2. колонка должна соответствовать описанию Колонки

3. Колонка Пользователи

- в заголовке кнопка URL, нет кнопки Добавить

- в фильтре комбинированные примеры, в том числе с мета тегами

- в таблице колонки: userId, Действия

- в колонке таблицы Действия - кнопка Инфо - просмотр JSON пользователя

- при клике на userId или строку таблицы должен выбираться пользователь и загружаться его диалоги во вторую колонку

- выбранный пользователь должен визуально выделяться (например, подсветкой строки)

4. Колонка Диалоги

- в заголовке кнопка URL, нет кнопки Добавить

- в таблице колонки: dialogId, Непрочитанные, Последний просмотр, Действия, Просмотр

- в колонке таблицы Действия - кнопки Отправить сообщение, Инфо, События, Мета

- в колонке таблицы Просмотр - кнопки Участники, Сообщения - при нажатии на них в следующей колонке открываются соотвественно Участники и Сообщения

- при клике на dialogId или строку таблицы должен выбираться диалог

- выбранный диалог должен визуально выделяться

- кнопка "Отправить сообщение" должна открывать модальное окно для создания сообщения в выбранном диалоге

- кнопка "Участники" должна переключать третью колонку на отображение участников диалога

- кнопка "Сообщения" должна переключать третью колонку на отображение сообщений диалога

- примеры фильтров должны включать варианты фильтрации по dialogId, мета-тегам, участникам

- колонки должны быть сортируемыми

5. Колонка Сообщения

- в заголовке кнопка URL, кнопка Добавить, согласно требований к Колонке

- кнопка Добавить должна быть активна только при выбранном диалоге

- при создании сообщения диалог и отправитель должны быть предзаполнены

- в таблице должны отображаться основные поля сообщения

- примеры фильтров должны включать варианты фильтрации по senderId, type, content, мета-тегам

- колонки должны быть сортируемыми

- при отсутствии выбранного диалога должна отображаться подсказка "Выберите диалог"

6. Колонка Участники

- в заголовке кнопка URL, кнопка Добавить, согласно требований к Колонке

- кнопка Добавить должна быть активна только при выбранном диалоге

- при добавлении участника в модальном окне должны быть поля: пользователь (обязательно, выпадающий список), тип участника (опционально), мета-теги (опционально)

- в таблице должны отображаться колонки: userId, Непрочитанные, Активен, Мета, Действия

- в колонке Действия должны быть кнопки: Мета (редактирование мета-тегов участника), Удалить

- примеры фильтров должны включать варианты фильтрации по userId, isActive, мета-тегам

- колонки должны быть сортируемыми

- при отсутствии выбранного диалога должна отображаться подсказка "Выберите диалог"

7. Переключение между Сообщения и Участники

- третья колонка должна отображать либо Сообщения, либо Участники в зависимости от выбранной кнопки в колонке Диалоги

- при переключении между Сообщения и Участники должны сохраняться фильтры и пагинация для каждого режима отдельно

- заголовок третьей колонки должен динамически изменяться в зависимости от активного режима

- при переключении режима должны скрываться элементы, не относящиеся к текущему режиму (фильтры, таблицы, пагинация)
